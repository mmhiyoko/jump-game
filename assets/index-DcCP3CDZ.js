(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const h=o=>{throw new Error(o)},e={gravity:.5,cat:{size:{width:64,height:64},initialPosition:{x:50,y:300},jumpAbsolutePower:15,secondJumpMultiplier:.7,maxJumpCount:2,initialColor:"orange"},canvas:{height:640},ground:{height:64},get groundY(){return this.canvas.height-this.ground.height}},a=document.getElementById("gameCanvas"),d=a.getContext("2d")??h("Failed to get canvas context");let s={x:e.cat.initialPosition.x,y:e.cat.initialPosition.y,velocity:0,jumpCount:0};const u={CAT_WALK_FRAMES:4,FRAME_WIDTH:512,FRAME_HEIGHT:512,FRAMES_PER_ROW:2,FRAME_DURATION:6},f=new Image;f.src="/jump-game/cat_walk.png";function y(o){if(o.code==="Space"&&s.jumpCount<e.cat.maxJumpCount){const r=s.jumpCount===0?e.cat.jumpAbsolutePower:e.cat.jumpAbsolutePower*e.cat.secondJumpMultiplier;s.velocity=-r,s.jumpCount++}}window.addEventListener("keydown",y);function A(o){let i=o.velocity+e.gravity,r=o.y+i,c=o.jumpCount;return r>e.groundY-e.cat.size.height+4&&(r=e.groundY-e.cat.size.height+4,i=0,c=0),{x:o.x,y:r,velocity:i,jumpCount:c,color:c==2?"red":e.cat.initialColor}}let m=0,p=0;function w(o){o.fillStyle="#444",o.fillRect(2,e.groundY,a.width,10)}function E(o,i,r){const c=r%u.FRAMES_PER_ROW,t=Math.floor(r/u.FRAMES_PER_ROW);o.drawImage(f,c*u.FRAME_WIDTH,t*u.FRAME_HEIGHT,u.FRAME_WIDTH,u.FRAME_HEIGHT,i.x,i.y,e.cat.size.width,e.cat.size.height)}function g(){d.clearRect(0,0,a.width,a.height),s=A(s),p++,p>=u.FRAME_DURATION&&(m=(m+1)%u.CAT_WALK_FRAMES,p=0),E(d,s,m),w(d),requestAnimationFrame(g)}f.onload=()=>{g()};
