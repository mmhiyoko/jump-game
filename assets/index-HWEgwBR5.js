(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function c(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(t){if(t.ep)return;t.ep=!0;const i=c(t);fetch(t.href,i)}})();const w=o=>{throw new Error(o)},e={gravity:.5,cat:{size:{width:64,height:64},initialPosition:{x:50,y:300},jumpAbsolutePower:15,secondJumpMultiplier:.7,maxJumpCount:2,initialColor:"orange"},canvas:{height:640},ground:{height:64},get groundY(){return this.canvas.height-this.ground.height}},a=document.getElementById("gameCanvas"),d=a.getContext("2d")??w("Failed to get canvas context");let r={x:e.cat.initialPosition.x,y:e.cat.initialPosition.y,velocity:0,jumpCount:0};window.addEventListener("keydown",o=>{if(o.code==="Space"&&r.jumpCount<e.cat.maxJumpCount){const c=r.jumpCount===0?e.cat.jumpAbsolutePower:e.cat.jumpAbsolutePower*e.cat.secondJumpMultiplier;r.velocity=-c,r.jumpCount++}});function C(o){let n=o.velocity+e.gravity,c=o.y+n,s=o.jumpCount;return c>e.groundY-e.cat.size.height+4&&(c=e.groundY-e.cat.size.height+4,n=0,s=0),{x:o.x,y:c,velocity:n,jumpCount:s,color:s==2?"red":e.cat.initialColor}}const v=4,f=512,g=512,h=2,A=6,p=new Image;p.src="/cat_walk.png";let u=0,m=0;function E(o){o.fillStyle="#444",o.fillRect(0,e.groundY,a.width,10)}function y(){d.clearRect(0,0,a.width,a.height),r=C(r),m++,m>=A&&(u=(u+1)%v,m=0);const o=u%h,n=Math.floor(u/h);d.drawImage(p,o*f,n*g,f,g,r.x,r.y,e.cat.size.width,e.cat.size.height),E(d),requestAnimationFrame(y)}p.onload=()=>{y()};
